---
layout: image-right
theme: default
class: text-center
highlighter: shiki
mdc: true
drawings:
  persist: false
image: /side-logo.png
selectable: true
colorSchema: dark
title: PERN
export:
  format: pdf
  timeout: 30000
  dark: false
  withClicks: false
---
<br><br><br><br><br>
<span class="titulo">PERN</span>
<br><br>
Pablo Leon Rodrigues

<div class="abs-br m-6 opacity-50 display: flex">
	<a class="social" href="https://github.com/pleonr" target="_blank" >
    	<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4.44c-.32-.07-.33-.68-.33-.89l.01-2.47c0-.84-.29-1.39-.61-1.67c2.01-.22 4.11-.97 4.11-4.44c0-.98-.35-1.79-.92-2.42c.09-.22.4-1.14-.09-2.38c0 0-.76-.23-2.48.93c-.72-.2-1.48-.3-2.25-.31c-.76.01-1.54.11-2.25.31c-1.72-1.16-2.48-.93-2.48-.93c-.49 1.24-.18 2.16-.09 2.38c-.57.63-.92 1.44-.92 2.42c0 3.47 2.1 4.22 4.1 4.47c-.26.2-.49.6-.57 1.18c-.52.23-1.82.63-2.62-.75c0 0-.48-.86-1.38-.93c0 0-.88 0-.06.55c0 0 .59.28 1 1.32c0 0 .52 1.75 3.03 1.21l.01 1.53c0 .21-.02.82-.34.89H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z" fill="currentColor"/></svg>
    </a>
    <a class="social" href="mailto:pablo.leonrodrigues@gmail.com" target="_blank" >
    	<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M5 3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm1.4 3.5h11.2c.77 0 1.4.62 1.4 1.4v8.2a1.4 1.4 0 0 1-1.4 1.4H6.4c-.77 0-1.4-.63-1.4-1.4V7.9c0-.78.62-1.4 1.4-1.4M6 8v2l6 4l6-4V8l-6 4z"/></svg>
    </a>
    <a class="social" href="https://www.linkedin.com/in/pablo-leon-rodrigues-9b47a824/" target="_blank" >
    	<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"/></svg>
    </a>
    <a class="social" href="https://leon.dev.br" target="_blank" >
    	<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M8.95 13.4H6.58a5.5 5.5 0 0 1 0-2.8h2.37a11.56 11.56 0 0 0-.1 1.4a11.56 11.56 0 0 0 .1 1.4M7.16 9.2H9.2a12.06 12.06 0 0 1 .98-2.49A5.55 5.55 0 0 0 7.16 9.2m9.68 0a5.59 5.59 0 0 0-3.03-2.49a10.95 10.95 0 0 1 .97 2.49M12 17.57a9.5 9.5 0 0 0 1.34-2.77h-2.68A9.5 9.5 0 0 0 12 17.57m0-11.15a9.53 9.53 0 0 0-1.34 2.78h2.68A9.53 9.53 0 0 0 12 6.42M7.16 14.8a5.61 5.61 0 0 0 3.02 2.49a12.06 12.06 0 0 1-.98-2.49M21 5v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2m-2 7a7 7 0 1 0-7 7a7 7 0 0 0 7-7m-3.85 0a11.56 11.56 0 0 1-.1 1.4h2.37a5.5 5.5 0 0 0 0-2.8h-2.37a11.56 11.56 0 0 1 .1 1.4m-1.34 5.29a5.62 5.62 0 0 0 3.03-2.49h-2.06a10.95 10.95 0 0 1-.97 2.49m-3.45-6.69a8.81 8.81 0 0 0 0 2.8h3.28a10.3 10.3 0 0 0 .11-1.4a10.21 10.21 0 0 0-.11-1.4Z"/></svg>
    </a>
</div>

---

<Toc columns="1" maxDepth="3"></Toc>

---

## PERN

O PERN stack é uma coleção de quatro tecnologias usadas para construir aplicativos web, PostgreSql, Express, React e 
Nodejs.

- PostgreSQL{style="color: lightblue;"}: um sistema de gerenciamento de banco de dados relacional de objeto (ORDBMS) de código aberto que oferece 
suporte a SQL para dados relacionais e JSON para dados não relacionais.
- Express.js{style="color: lightyellow;"}: uma estrutura da web JavaScript popular desenvolvida para Node.js que simplifica a construção de 
aplicativos da web e APIs. 
- React.js{style="color: thistle;"}: uma biblioteca JavaScript para construir interfaces de usuário dinâmicas. 
- Node.js{style="color: lightgreen;"}: um ambiente de tempo de execução JavaScript que permite executar JavaScript no lado do servidor.


---

![](/pern.jpg)

---

### Prós

- JavaScript full-stack: usar JavaScript tanto para front-end quanto para back-end 
pode simplificar o desenvolvimento para aqueles que já estão familiarizados com a linguagem. 
- Comunidade: as grandes comunidades por trás de cada tecnologia da pilha fornecem amplos recursos de aprendizagem e
suporte. 
- Escalabilidade: O stack PERN pode lidar com aplicações pequenas e grandes devido à escalabilidade inerente
de seus componentes. 
- Flexibilidade: Os recursos de manipulação de dados do PostgreSQL oferecem flexibilidade no armazenamento e
gerenciamento de dados.

---

### Cons

- Complexidade: embora o uso de JavaScript em toda a pilha possa ser vantajoso, ele também pode adicionar complexidade
para desenvolvedores que não estão familiarizados com JavaScript no back-end. 
- Escolha de banco de dados: o PostgreSQL pode ser um exagero para aplicativos mais simples que não exigem seus 
recursos avançados. 
- Considerações de segurança: como acontece com qualquer desenvolvimento web, a segurança precisa ser cuidadosamente
considerada. Porém, o mesmo pode ser dito para qualquer outro stack.

---
layout: two-cols
---

## REACT

REACT é uma biblioteca Javascript utilizada para criar interfaces de usuário. Mais utilizado para single-page apps, foi
desenvolvido pelo Facebook.

O objetivo do react é simplificar o processo de desenvolver interfaces de usuário utilizando uma abordagem baseada em
componentes.

![](/react-component.png)

JSX, uma extensão de sintaxe para JavaScript, permite aos desenvolvedores escrever componentes de UI em um formato
semelhante a XML ou HTML. Tornando o código mais legível e expressivo.

::right::


```jsx
function Video({ video }) {
  return (
    <div>
      <Thumbnail video={video} />
      <a href={video.url}>
        <h3>{video.title}</h3>
        <p>{video.description}</p>
      </a>
      <LikeButton video={video} />
    </div>
  );
}
```

React usa um DOM virtual (Document Object Model). Em vez de atualizar todo o DOM quando os dados mudam, o React
primeiro cria uma representação virtual do DOM na memória. Em seguida, ele calcula a maneira mais eficiente de
atualizar o DOM real, reduzindo a necessidade de recarregamentos.

---

![](/virtualdoomreact.webp)


---
layout: two-cols
---

### Next.js

O react recomenda a utilização de frameworks para construção de app, vamos utilizar o [Next.js](https://nextjs.org/),
desenvolvido pela [Vercel](https://vercel.com).

O Nextjs, utiliza [Tailwind](https://tailwindcss.com/) css como padrão para folhas de estilo. 

Para instalar o Nextjs:

```shell
npm install -g nextjs
```

<br>

![](/next-app.png)

::right::

![](/nextjsapp.png)

---

### Componentes

Um componente é um bloco de código reutilizável e independente, que divide a interface do usuário em partes menores.

![](/componentes-react.png)

---

### Componentes de classe

Os **componentes de classes** têm acesso a recursos adicionais, como o ciclo de vida do componente. 
Isso permite que os desenvolvedores controlem o comportamento do componente em diferentes estágios, `componentDidMount`, 
`componentDidUpdate`, and `componentWillUnmount`

Eles também têm suporte nativo ao gerenciamento de estado usando o objeto `state`. Isso permite que os desenvolvedores 
armazenem e atualizem o estado interno do componente de forma fácil e intuitiva. 

Esses componentes precisavam de um método render() para poder retornar o JSX.

```jsx
class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}
```

---
layout: two-cols
---

### Componentes funcionais

Um componente funcional, basicamente, é uma função em JavaScript/ES6 que retorna um elemento do React (JSX).

Os componentes funcionais oferecem uma sintaxe mais concisa, facilidade de reutilização e melhor desempenho, 
sendo a escolha preferida para novos projetos e aqueles que buscam uma abordagem mais moderna de desenvolvimento. Eles
possibilitam gerênciar o lifecycle através de `hooks`.

- é uma função em JavaScript/ES6 
- deve retornar um elemento em React (JSX)
- sempre começa com letra maiúscula (convenção dos nomes)
- aceita props como parâmetro, se necessário

::right::

```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}
export default Welcome;
```

```jsx
import Welcome from './Welcome';

function App() { 
  return 
    <div className="App">
      <Welcome name="John"/>
    </div>
}
```

`props` são a forma de comunicação entre componentes react. As props transportam dados apenas do elemento pai para os elementos
filhos.
---
layout: two-cols
---

### useState hook

Você chama `useState` dentro do seu componente funcional para declarar uma variável `state`. Essa variável deve ser 
criada no escopo do componente, ao tentar criar um `state` dentro de uma função, bloco condicional ou loop irá causar um
erro.

```jsx
import React, { useState } from 'react';

function Counter() {
  const [count, setCount] = useState(0)
  return (<div>{count}<div>);
}
```

::right::

- A chamada `{useState(0)}` declara a variável de estado count com um valor inicial de 0.
- A função setCount é usada para atualizar a variável. 
- `useState` pode ser usado para gerenciar vários tipos de dados, incluindo números, strings, booleanos, arrays ou objetos.
- As atualizações de estado sempre devem ser feitas usando a função setter retornada por useState.
- Nunca modifique diretamente a variável de estado.
- Os componentes do React são renderizados novamente sempre que seu estado muda. 
Isso garante que a IU reflita os valores de estado mais recentes.

---
layout: two-cols
---

### useEffect hook

Hooks são funções que possibilitam gerenciar efeitos em componentes funcionais.

- Buscar data de API's
- Manipular DOM
- Criar temporizadores

```jsx
useEffect(function, dependencies)
```
```jsx
useEffect(() => {
    
}, []);
```

::right::

- O primeiro argumento `function` é uma função que contém a lógica do efeito colateral. 
- O segundo argumento `dependencies` (opcional) é uma matriz de dependências. 
Isso informa ao React quando executar novamente o efeito, se nenhuma dependência for especificada,
o efeito será executado após cada renderização.

Ao executar, por padrão o `effect` vai rodar depois do render inicial e depois de cada update subsequente. Esse 
padrão pode ser alterado usando a um `array` de dependências. Se o array estiver vazio essa função só vai executar uma 
vez, se tiver um valor(es), toda vez que esse valor for alterado a função vai ser executada.

---

```jsx
const [count, setCount] = useState(0)
return(
    <div>
        <p>{count}</p>
        <button onClick={() => setCount(count + 1)}>mais</button>
        <button onClick={() => setCount(count - 1)}>menos</button>
    </div>
)
```

```jsx
const [hello, setHello] = useState("Hello")
const [bool, setBool] = useState(true)
return(
    <div>
        <p>{hello}</p>
        <button onClick={() => setHello("goodbye")}>bye</button>
        {bool ? <p>verdadeiro</p> : <p>false</p>}
        <button onClick={() => bool ? setBool(false) : setBool(true)}>toogle</button>
    </div>
)
```

---

```jsx
    const [counter, setCounter] = useState(0)
    const [word, setWord] = useState("no")

    useEffect(() => {
        console.log("renderizou")
    }, []);

    return (
        <div>
            <p>{counter}</p>
            <button onClick={() => setCounter(counter + 1)}>Mais</button>

            <p>{word}</p>
            <button onClick={() => setWord("yes")}>yes</button>
        </div>
    )
```

---

### Fetch API

```jsx
useEffect(() => {
    fetch("https://dog.ceo/api/breeds/image/random")
        .then((resp) => resp.json())
        .then((apiData) => {
            setData(apiData.message);
        });
}, [update]);
```

---
layout: two-cols
---

### Axios

Axios é um cliente HTTP baseado em promessa para `node.js` e navegador. É isomórfico (pode rodar no navegador e 
nodejs com a mesma base de código). No lado do servidor utiliza o módulo http nativo node.js, enquanto no 
cliente (navegador) utiliza XMLHttpRequests. `npm install axios`

```jsx
import axios from "axios";

const api = axios.create({
  baseURL: "https://api.github.com",
});

export default api;
```

::right::

```jsx
axios({
  method: 'post',
  url: '/login',
  data: {
    firstName: 'Finn',
    lastName: 'Williams'
  }
});
```

- `axios.request(config)`
- `axios.get(url[, config])`
- `axios.delete(url[, config])`
- `axios.head(url[, config])`
- `axios.options(url[, config])`
- `axios.post(url[, data[, config]])`
- `axios.put(url[, data[, config]])`
- `axios.patch(url[, data[, config]])`

---
layout: two-cols
---

#### Axios Post

Depois que uma solicitação HTTP POST é feita, o Axios retorna uma promessa que é cumprida ou rejeitada, dependendo da
resposta do serviço de backend

```jsx
axios.post('/login', {
  firstName: 'Finn',
  lastName: 'Williams'
})
.then((response) => {
  console.log(response);
}, (error) => {
  console.log(error);
});
```

Se a promessa for cumprida, o primeiro argumento de then() será chamado; se a promessa for rejeitada, o segundo
argumento será chamado.

::right::

```json
{
  // `data` é a resposta(*response*)
  data: {},
  // `status` é o HTTP status code
  status: 200,
  // `statusText` é a mensagem de status
  statusText: 'OK',
  // `headers` headers da resposta
  headers: {},
  // `config` configuração para o axios
  config: {},
  // `request` é o request dessa response
  request: {}
}
```

---
layout: two-cols
---

### SPA

Uma das características do REACT é a possibilidade de criar SPA(**Single Page Applications**)

Usando o pages router, cada página criada dentro da pasta pages, vai redirecionar para uma url de acordo com o nome do 
arquivo. Porém essa navegação envolve o load normal das páginas.

Por exemplo a página `listarPessoas.tsx` vai refletir com a url `localhost:3000/listarPessoas` e a página default
`index.tsx` é associada a url `localhost:3000/`.

::right::

#### Router

Diversas libs podem ser usadas para gerênciar as rotas de páginas, uma delas é o
[`react-router-dom`](https://reactrouter.com/en/main). 

Para instalar 

```shell
npm install react-router-dom
```

Para configurar o router no projeto next precisamos alterar a estrutura da aplicação.

---

#### _app.tsx

```jsx
import "@/styles/globals.css"
import {AppProps} from 'next/app'
import {useEffect, useState} from 'react'

function App({Component, pageProps}: AppProps) {
  const [render, setRender] = useState(false)
  useEffect(() => setRender(true), [])
  return render ? <Component {...pageProps} /> : null
}
export default App
```

---

#### index.tsx

```jsx
import {BrowserRouter as Router, Routes, Route} from 'react-router-dom';
import ListarPessoas from "@/pages/listarPessoas";
import "bootstrap/dist/css/bootstrap.min.css";

export default function Home() {
  return (
      <Router>
          <main className="container">
              <Routes>
                  <Route path="/" element={<h1>Home</h1>}/>
                  <Route path="/listarPessoas" element={<ListarPessoas/>}/>
              </Routes>
          </main>
      </Router>
  );
}
```








---

https://www.dio.me/articles/react-componentes-de-classes-x-componentes-funcionais

https://www.freecodecamp.org/portuguese/news/componentes-funcionais-props-e-jsx-em-react-tutorial-de-react-js-para-iniciantes/

https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch

https://axios-http.com/docs/api_intro

https://www.scaler.com/topics/react/virtual-dom-in-react/